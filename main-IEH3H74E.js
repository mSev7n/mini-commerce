import{a as Q,b as X,e as Z,g as tt,h as et,j as ot,k as it}from"./chunk-LL5KZJH4.js";import{A as p,B as g,F as c,I as d,K as i,L as r,M as m,N as A,O as H,P as u,R as a,S as f,T as x,V as z,W as V,X as q,Z as w,d as N,da as S,ea as v,f as F,fa as h,ga as B,ha as W,i as O,ia as $,j as R,ja as U,ka as J,la as Y,m as L,ma as G,na as b,oa as K,p as j,pa as y,r as D,s as E,x as _,y as n}from"./chunk-34NIGZ72.js";function pt(e,o){e&1&&(i(0,"button",1),a(1,` View Cart
`),r()),e&2&&d("routerLink","/cart")}var I=class e{constructor(o){this.router=o;this.router.events.pipe(O(t=>t instanceof U)).subscribe(t=>{this.isCartPage=t.urlAfterRedirects.includes("/cart")})}isCartPage=!1;static \u0275fac=function(t){return new(t||e)(p(G))};static \u0275cmp=g({type:e,selectors:[["app-root"]],decls:2,vars:1,consts:[["type","button","class","fixed top-4 right-4 bg-indigo-600 text-white px-4 py-2 rounded-full shadow-lg hover:bg-indigo-700 transition-all z-50 cursor-pointer",3,"routerLink",4,"ngIf"],["type","button",1,"fixed","top-4","right-4","bg-indigo-600","text-white","px-4","py-2","rounded-full","shadow-lg","hover:bg-indigo-700","transition-all","z-50","cursor-pointer",3,"routerLink"]],template:function(t,s){t&1&&(c(0,pt,2,1,"button",0),m(1,"router-outlet")),t&2&&d("ngIf",!s.isCartPage)},dependencies:[h,v,y,Y,b],encapsulation:2})};var C=class e{constructor(o){this.http=o}products$=new N([]);getProducts(){let o=localStorage.getItem("products");if(o){let t=JSON.parse(o);return this.products$.next(t),F(t)}else return this.http.get("assets/data/products.json").pipe(R(t=>{localStorage.setItem("products",JSON.stringify(t)),this.products$.next(t)}))}getProductBySlug(o){return this.products$.value.find(t=>t.slug===o)}static \u0275fac=function(t){return new(t||e)(j(W))};static \u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"})};var ct=e=>["/product",e];function lt(e,o){e&1&&(i(0,"div",5),a(1,` Loading products...
`),r())}function mt(e,o){if(e&1&&(i(0,"a",8),m(1,"img",9),i(2,"div",10)(3,"h2",11),a(4),r(),i(5,"p",12),a(6),r(),i(7,"p",13),a(8),r()()()),e&2){let t=o.$implicit;d("routerLink",w(6,ct,t.slug)),n(),d("src",t.image,_)("alt",t.title),n(3),f(t.title),n(2),x(" ",t.description.split(" ").slice(0,15).join(" ")+"..."," "),n(2),x("\u20A6",t.price,"")}}function ut(e,o){if(e&1&&(i(0,"div",6),c(1,mt,9,8,"a",7),r()),e&2){let t=u();n(),d("ngForOf",t.products)}}var P=class e{constructor(o){this.productService=o}products=[];loading=!0;ngOnInit(){this.productService.getProducts().subscribe({next:o=>{this.products=o,this.loading=!1},error:o=>{console.error("Failed to load products:",o),this.loading=!1}})}static \u0275fac=function(t){return new(t||e)(p(C))};static \u0275cmp=g({type:e,selectors:[["app-home"]],decls:7,vars:2,consts:[[1,"text-center","px-4","py-6"],[1,"text-2xl","sm:text-3xl","md:text-4xl","font-bold","mb-2","text-gray-800"],[1,"text-gray-600","text-sm","sm:text-base","md:text-lg","max-w-md","mx-auto"],["class","text-center py-10 text-gray-500 text-base sm:text-lg",4,"ngIf"],["class","grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 px-4 pb-12",4,"ngIf"],[1,"text-center","py-10","text-gray-500","text-base","sm:text-lg"],[1,"grid","grid-cols-1","sm:grid-cols-2","md:grid-cols-3","lg:grid-cols-4","gap-6","px-4","pb-12"],["class","block border rounded-2xl overflow-hidden hover:shadow-md transition-all bg-white",3,"routerLink",4,"ngFor","ngForOf"],[1,"block","border","rounded-2xl","overflow-hidden","hover:shadow-md","transition-all","bg-white",3,"routerLink"],["loading","lazy",1,"w-full","h-56","sm:h-64","object-cover",3,"src","alt"],[1,"p-4"],[1,"text-base","sm:text-lg","font-semibold","text-gray-900"],[1,"text-sm","text-gray-500"],[1,"text-indigo-600","font-bold","mt-2"]],template:function(t,s){t&1&&(i(0,"section",0)(1,"h1",1),a(2," Welcome to Mini-Commerce \u{1F6D2} "),r(),i(3,"p",2),a(4," Browse our handpicked selection of stylish, modern products \u2014 all demo items, no checkout required. "),r()(),c(5,lt,2,0,"div",3)(6,ut,2,1,"div",4)),t&2&&(n(5),d("ngIf",s.loading),n(),d("ngIf",!s.loading))},dependencies:[h,S,v,y,b],encapsulation:2})};var gt=e=>["/product",e];function ft(e,o){e&1&&(i(0,"div",7),a(1,` Product added to cart
`),r())}function xt(e,o){e&1&&(i(0,"div",8),a(1,` Loading product details...
`),r())}function vt(e,o){if(e&1){let t=A();i(0,"div",9)(1,"div",10),m(2,"img",11),i(3,"div")(4,"h1",12),a(5),r(),i(6,"p",13),a(7),r(),i(8,"p",14),a(9),r(),i(10,"div",15)(11,"input",16),q("ngModelChange",function(l){D(t);let T=u();return V(T.quantity,l)||(T.quantity=l),E(l)}),r(),i(12,"button",17),H("click",function(){D(t);let l=u();return E(l.addToCart())}),a(13," Add to Cart "),r()()()()()}if(e&2){let t=u();n(2),d("src",t.product.image,_)("alt",t.product.title),n(3),f(t.product.title),n(2),f(t.product.description),n(2),x("\u20A6",t.product.price,""),n(2),z("ngModel",t.quantity)}}function ht(e,o){if(e&1&&(i(0,"a",22),m(1,"img",23),i(2,"div",24)(3,"h3",25),a(4),r(),i(5,"p",26),a(6),r()()()),e&2){let t=o.$implicit;d("routerLink",w(5,gt,t.slug)),n(),d("src",t.image,_)("alt",t.title),n(3),f(t.title),n(2),x(" ",t.description.split(" ").slice(0,12).join(" ")+"..."," ")}}function bt(e,o){if(e&1&&(i(0,"div",18)(1,"h2",19),a(2,"You might also like"),r(),i(3,"div",20),c(4,ht,7,7,"a",21),r()()),e&2){let t=u();n(4),d("ngForOf",t.relatedProducts)}}function yt(e,o){e&1&&(i(0,"div",27),a(1,` Product not found.
`),r())}var k=class e{constructor(o,t,s){this.route=o;this.productService=t;this.cartService=s}product;relatedProducts=[];loading=!0;showToast=!1;quantity=1;ngOnInit(){this.route.paramMap.subscribe(o=>{let t=o.get("slug");t?(this.product=this.productService.getProductBySlug(t),this.productService.getProducts().subscribe(s=>{this.relatedProducts=s.filter(l=>l.slug!==t).sort(()=>.5-Math.random()).slice(0,4),this.loading=!1})):this.loading=!1})}addToCart(){if(this.product){for(let o=0;o<this.quantity;o++)this.cartService.addToCart(this.product);this.showToast=!0,setTimeout(()=>{this.showToast=!1},2500)}}static \u0275fac=function(t){return new(t||e)(p(J),p(C),p(it))};static \u0275cmp=g({type:e,selectors:[["app-product-detail"]],decls:8,vars:5,consts:[[1,"max-w-4xl","mx-auto","px-4","pt-6"],["routerLink","/",1,"inline-block","text-sm","text-indigo-600","hover:underline"],["class","fixed top-4 right-4 bg-green-600 text-white text-sm px-4 py-2 rounded-lg shadow-lg z-50 animate-fade-in-out",4,"ngIf"],["class","text-center py-10 text-gray-500 text-base sm:text-lg",4,"ngIf"],["class","max-w-4xl mx-auto px-4 py-8",4,"ngIf"],["class","max-w-4xl mx-auto px-4 py-12",4,"ngIf"],["class","text-center py-20 text-gray-500 text-base sm:text-lg",4,"ngIf"],[1,"fixed","top-4","right-4","bg-green-600","text-white","text-sm","px-4","py-2","rounded-lg","shadow-lg","z-50","animate-fade-in-out"],[1,"text-center","py-10","text-gray-500","text-base","sm:text-lg"],[1,"max-w-4xl","mx-auto","px-4","py-8"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-8","items-start"],[1,"w-full","h-64","sm:h-80","object-cover","rounded-lg","shadow-md",3,"src","alt"],[1,"text-xl","sm:text-2xl","font-bold","mb-2"],[1,"text-gray-600","text-sm","sm:text-base","mb-4"],[1,"text-lg","sm:text-xl","font-bold","text-indigo-600","mb-6"],[1,"flex","flex-col","sm:flex-row","items-start","sm:items-center","gap-3"],["type","number","min","1",1,"w-20","px-2","py-1","border","rounded-md","text-sm","focus:outline-none",3,"ngModelChange","ngModel"],[1,"bg-indigo-600","text-white","px-4","py-2","rounded-lg","hover:bg-indigo-700","transition-colors",3,"click"],[1,"max-w-4xl","mx-auto","px-4","py-12"],[1,"text-lg","sm:text-xl","font-semibold","mb-4","text-gray-800"],[1,"grid","grid-cols-1","sm:grid-cols-2","md:grid-cols-3","gap-4"],["class","block border rounded-xl overflow-hidden hover:shadow-md transition-shadow bg-white",3,"routerLink",4,"ngFor","ngForOf"],[1,"block","border","rounded-xl","overflow-hidden","hover:shadow-md","transition-shadow","bg-white",3,"routerLink"],["loading","lazy",1,"w-full","h-40","sm:h-48","object-cover",3,"src","alt"],[1,"p-3"],[1,"text-sm","font-semibold","text-gray-800"],[1,"text-xs","text-gray-500"],[1,"text-center","py-20","text-gray-500","text-base","sm:text-lg"]],template:function(t,s){t&1&&(i(0,"div",0)(1,"a",1),a(2," \u2190 Back to Shop "),r()(),c(3,ft,2,0,"div",2)(4,xt,2,0,"div",3)(5,vt,14,6,"div",4)(6,bt,5,1,"div",5)(7,yt,2,0,"div",6)),t&2&&(n(3),d("ngIf",s.showToast),n(),d("ngIf",s.loading),n(),d("ngIf",!s.loading&&s.product),n(),d("ngIf",!s.loading&&s.product),n(),d("ngIf",!s.loading&&!s.product))},dependencies:[h,S,v,y,b,ot,Q,tt,X,et,Z],encapsulation:2})};var st=[{path:"",component:P},{path:"product/:slug",component:k},{path:"cart",loadComponent:()=>import("./chunk-WCANTNUL.js").then(e=>e.CartComponent)},{path:"checkout",loadComponent:()=>import("./chunk-LO2PZLE5.js").then(e=>e.CheckoutComponent)},{path:"success",loadComponent:()=>import("./chunk-AMR5BAC3.js").then(e=>e.SuccessComponent)},{path:"**",loadComponent:()=>import("./chunk-E6GRKD37.js").then(e=>e.NotFoundComponent)}];B(I,{providers:[K(st),$()]}).catch(e=>console.error(e));
